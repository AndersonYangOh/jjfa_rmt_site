var $api=new apiUtils.Api(apiUrl+"/pages/settings/adminConfig"),data={pageLoad:!1,pageAlert:null,pageType:null,config:null,adminUserNameMinLength:null,adminPasswordMinLength:null,adminPasswordRestriction:null,isAdminLockLogin:null,adminLockLoginCount:null,adminLockLoginType:null,adminLockLoginHours:null,isViewContentOnlySelf:null,isAdminEnforcePasswordChange:null,adminEnforcePasswordChangeDays:null,isAdminEnforceLogout:null,adminEnforceLogoutMinutes:null},methods={getConfig:function(){var n=this;$api.get(null,function(i,o){!i&&o&&o.value&&(n.config=_.clone(o.value),n.adminUserNameMinLength=o.value.adminUserNameMinLength,n.adminPasswordMinLength=o.value.adminPasswordMinLength,n.adminPasswordRestriction=o.value.adminPasswordRestriction,n.isAdminLockLogin=o.value.isAdminLockLogin,n.adminLockLoginCount=o.value.adminLockLoginCount,n.adminLockLoginType=o.value.adminLockLoginType,n.adminLockLoginHours=o.value.adminLockLoginHours,n.isViewContentOnlySelf=o.value.isViewContentOnlySelf,n.isAdminEnforcePasswordChange=o.value.isAdminEnforcePasswordChange,n.adminEnforcePasswordChangeDays=o.value.adminEnforcePasswordChangeDays,n.isAdminEnforceLogout=o.value.isAdminEnforceLogout,n.adminEnforceLogoutMinutes=o.value.adminEnforceLogoutMinutes,n.pageType="list",n.pageLoad=!0)})},submit:function(n){var i=this;pageUtils.loading(!0),$api.post({adminUserNameMinLength:i.adminUserNameMinLength,adminPasswordMinLength:i.adminPasswordMinLength,adminPasswordRestriction:i.adminPasswordRestriction,isAdminLockLogin:i.isAdminLockLogin,adminLockLoginCount:i.adminLockLoginCount,adminLockLoginType:i.adminLockLoginType,adminLockLoginHours:i.adminLockLoginHours,isViewContentOnlySelf:i.isViewContentOnlySelf,isAdminEnforcePasswordChange:i.isAdminEnforcePasswordChange,adminEnforcePasswordChangeDays:i.adminEnforcePasswordChangeDays,isAdminEnforceLogout:i.isAdminEnforceLogout,adminEnforceLogoutMinutes:i.adminEnforceLogoutMinutes},function(n,o){pageUtils.loading(!1),n?i.pageAlert={type:"danger",html:n.message}:(i.pageAlert={type:"success",html:"管理员设置保存成功！"},i.config=_.clone(o.value),i.pageType="list")})},getPasswordRestrictionText:function(n){return"LetterAndDigit"===n?"字母和数字组合":"LetterAndDigitAndSymbol"===n?"字母、数字以及符号组合":"不限制"},btnSubmitClick:function(){var n=this;this.$validator.validate().then(function(i){i&&n.submit(n.item)})}};new Vue({el:"#main",data:data,methods:methods,created:function(){this.getConfig()}});